<meta charset=utf-8>
<body style="margin: 0; font-size: 10px; font-family: monospace;">
<a id=link style="background:#fff; position: fixed; top: 0; right: 0; font-size: 20px;">#</a>
<input id=p style="width:95%">
<canvas id=a width=800 height=500 style="width:99%; height: 85%;"></canvas>
<script>

if(location.hash.slice(1) == ""){
  A=(Math.random()*10-5).toFixed(2);
  B=(Math.random()*10-5).toFixed(2);
  C=(Math.random()*10-5).toFixed(2);
  D=(Math.random()*10-5).toFixed(2);
  func_X=["A*","B*","C*","D*",""][~~(Math.random()*5)]+["cos","sin"][~~(Math.random()*2)]+"("+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["U","V"][~~(Math.random()*2)]+")"+["+","-"][~~(Math.random()*2)]+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["cos","sin"][~~(Math.random()*2)]+"("+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["U","V"][~~(Math.random()*2)]+")";
  func_Y=["A*","B*","C*","D*",""][~~(Math.random()*5)]+["cos","sin"][~~(Math.random()*2)]+"("+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["U","V"][~~(Math.random()*2)]+")"+["+","-"][~~(Math.random()*2)]+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["cos","sin"][~~(Math.random()*2)]+"("+["A*","B*","C*","D*",""][~~(Math.random()*5)]+["U","V"][~~(Math.random()*2)]+")";
  p.value='{"A":'+A+',"B":'+B+',"C":'+C+',"D":'+D+',"X":"'+func_X+'","Y":"'+func_Y+'"}';
}

else{
  p.value = decodeURIComponent(location.hash.slice(1));
  z=JSON.parse(p.value);
  A=z.A;
  B=z.B;
  C=z.C;
  D=z.D;
  func_X=z.X;
  func_Y=z.Y;
}

link.href="iframe.html#"+p.value;


setInterval(
  function(){
    for(i=0;i<10;i++){
      with(Math){
        X=eval(func_X);
        Y=eval(func_Y);
        a.getContext`2d`.fillRect(
          400+25*X,
          250+25*Y,
          1,
          1
        )
        U=X;
        V=Y
      }
    }
  },
  U=V=X=Y=1
)
</script>